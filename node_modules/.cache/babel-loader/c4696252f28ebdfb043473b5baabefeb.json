{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/work/Documenti/GitHub/M4-D7-Strivestaurant-p4/src/components/ReservationForm.jsx\";\nimport React from \"react\";\nimport { Alert, Button, Col, Form, Row, Spinner } from \"react-bootstrap\";\n\nclass ReservationForm extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      reservation: {\n        name: \"\",\n        phone: \"\",\n        numberOfPersons: \"1\",\n        smoking: false,\n        dateTime: \"\",\n        specialRequests: \"\"\n      },\n      errMessage: \"\",\n      loading: false\n    };\n\n    this.updateReservationField = e => {\n      let reservation = { ...this.state.reservation\n      }; // creating a copy of the current state\n\n      let currentId = e.currentTarget.id; // 'name', 'phone', etc.\n\n      if (currentId === \"smoking\") {\n        reservation[currentId] = e.currentTarget.checked;\n      } else {\n        reservation[currentId] = e.currentTarget.value; // e.currentTarget.value is the keystroke\n      } //reservation['name'] --> reservation.name = 'S'\n      //reservation['phone'] --> reservation.phone = '3'\n\n\n      this.setState({\n        reservation: reservation\n      });\n    };\n\n    this.submitReservation = async e => {\n      e.preventDefault();\n      this.setState({\n        loading: true\n      });\n\n      try {\n        let response = await fetch(\"https://striveschool.herokuapp.com/api/reservation\", {\n          method: \"POST\",\n          body: JSON.stringify(this.state.reservation),\n          headers: new Headers({\n            \"Content-Type\": \"application/json\"\n          })\n        });\n\n        if (response.ok) {\n          alert(\"Reservation saved!\");\n          this.setState({\n            reservation: {\n              name: \"\",\n              phone: \"\",\n              numberOfPersons: \"1\",\n              smoking: false,\n              dateTime: \"\",\n              specialRequests: \"\"\n            },\n            errMessage: \"\",\n            loading: false\n          });\n        } else {\n          console.log(\"an error occurred\");\n          let error = await response.json();\n          this.setState({\n            errMessage: error.message,\n            loading: false\n          });\n        }\n      } catch (e) {\n        console.log(e); // Error\n\n        this.setState({\n          errMessage: e.message,\n          loading: false\n        });\n      }\n    };\n  }\n\n  render() {\n    if (this.state.errMessage) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          children: [\"We encountered a problem with your request\", this.state.errMessage]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \" back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [this.state.loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center my-5\",\n        children: [\"Reserving your table, please wait\", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-2\",\n          children: /*#__PURE__*/_jsxDEV(Spinner, {\n            animation: \"border\",\n            variant: \"success\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        className: \"w-100 mb-5\",\n        onSubmit: this.submitReservation,\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                htmlFor: \"name\",\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"name\",\n                id: \"name\",\n                placeholder: \"Your name\",\n                value: this.state.reservation.name,\n                onChange: this.updateReservationField,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                htmlFor: \"phone\",\n                children: \"Phone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"number\",\n                name: \"phone\",\n                id: \"phone\",\n                placeholder: \"Your phone\",\n                required: true,\n                value: this.state.reservation.phone,\n                onChange: this.updateReservationField\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 5,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                htmlFor: \"numberOfPersons\",\n                children: \"How many people?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                as: \"select\",\n                name: \"numberOfPersons\",\n                id: \"numberOfPersons\",\n                value: this.state.reservation.numberOfPersons,\n                onChange: this.updateReservationField,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 2,\n            className: \"flex flex-column align-self-end\",\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: /*#__PURE__*/_jsxDEV(Form.Label, {\n                children: /*#__PURE__*/_jsxDEV(Form.Check, {\n                  type: \"checkbox\",\n                  id: \"smoking\",\n                  label: \"Smoking?\",\n                  checked: this.state.reservation.smoking,\n                  onChange: this.updateReservationField\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 5,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                htmlFor: \"dateTime\",\n                children: \"Date and Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"datetime-local\",\n                name: \"dateTime\",\n                id: \"dateTime\",\n                placeholder: \"Date and Time\",\n                value: this.state.reservation.dateTime,\n                onChange: this.updateReservationField,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            md: 12,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                htmlFor: \"specialRequests\",\n                children: \"Special requests\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"specialRequests\",\n                id: \"specialRequests\",\n                placeholder: \"Your special requests\",\n                value: this.state.reservation.specialRequests,\n                onChange: this.updateReservationField\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default ReservationForm;","map":{"version":3,"sources":["/home/work/Documenti/GitHub/M4-D7-Strivestaurant-p4/src/components/ReservationForm.jsx"],"names":["React","Alert","Button","Col","Form","Row","Spinner","ReservationForm","Component","state","reservation","name","phone","numberOfPersons","smoking","dateTime","specialRequests","errMessage","loading","updateReservationField","e","currentId","currentTarget","id","checked","value","setState","submitReservation","preventDefault","response","fetch","method","body","JSON","stringify","headers","Headers","ok","alert","console","log","error","json","message","render"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { Alert, Button, Col, Form, Row, Spinner } from \"react-bootstrap\"\n\nclass ReservationForm extends React.Component {\n\tstate = {\n\t\treservation: {\n\t\t\tname: \"\",\n\t\t\tphone: \"\",\n\t\t\tnumberOfPersons: \"1\",\n\t\t\tsmoking: false,\n\t\t\tdateTime: \"\",\n\t\t\tspecialRequests: \"\",\n\t\t},\n\t\terrMessage: \"\",\n\t\tloading: false,\n\t}\n\n\tupdateReservationField = (e) => {\n\t\tlet reservation = { ...this.state.reservation } // creating a copy of the current state\n\t\tlet currentId = e.currentTarget.id // 'name', 'phone', etc.\n\n\t\tif (currentId === \"smoking\") {\n\t\t\treservation[currentId] = e.currentTarget.checked\n\t\t} else {\n\t\t\treservation[currentId] = e.currentTarget.value // e.currentTarget.value is the keystroke\n\t\t}\n\t\t//reservation['name'] --> reservation.name = 'S'\n\t\t//reservation['phone'] --> reservation.phone = '3'\n\t\tthis.setState({ reservation: reservation })\n\t}\n\n\tsubmitReservation = async (e) => {\n\t\te.preventDefault()\n\t\tthis.setState({ loading: true })\n\t\ttry {\n\t\t\tlet response = await fetch(\n\t\t\t\t\"https://striveschool.herokuapp.com/api/reservation\",\n\t\t\t\t{\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\tbody: JSON.stringify(this.state.reservation),\n\t\t\t\t\theaders: new Headers({\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t}),\n\t\t\t\t}\n\t\t\t)\n\t\t\tif (response.ok) {\n\t\t\t\talert(\"Reservation saved!\")\n\t\t\t\tthis.setState({\n\t\t\t\t\treservation: {\n\t\t\t\t\t\tname: \"\",\n\t\t\t\t\t\tphone: \"\",\n\t\t\t\t\t\tnumberOfPersons: \"1\",\n\t\t\t\t\t\tsmoking: false,\n\t\t\t\t\t\tdateTime: \"\",\n\t\t\t\t\t\tspecialRequests: \"\",\n\t\t\t\t\t},\n\t\t\t\t\terrMessage: \"\",\n\t\t\t\t\tloading: false,\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tconsole.log(\"an error occurred\")\n\t\t\t\tlet error = await response.json()\n\t\t\t\tthis.setState({\n\t\t\t\t\terrMessage: error.message,\n\t\t\t\t\tloading: false,\n\t\t\t\t})\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log(e) // Error\n\t\t\tthis.setState({\n\t\t\t\terrMessage: e.message,\n\t\t\t\tloading: false,\n\t\t\t})\n\t\t}\n\t}\n\n\trender() {\n\t\tif (this.state.errMessage) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Alert variant=\"danger\">\n\t\t\t\t\t\tWe encountered a problem with your request\n\t\t\t\t\t\t{this.state.errMessage}\n\t\t\t\t\t</Alert>\n\t\t\t\t\t<button> back</button>\n\t\t\t\t</>\n\t\t\t)\n\t\t}\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{/*   this.state.errMessage && (\n                        <Alert variant=\"danger\">\n                            We encountered a problem with your request\n                            {this.state.errMessage}\n                        </Alert>\n                    )*/}\n\t\t\t\t{this.state.loading && (\n\t\t\t\t\t<div className=\"d-flex justify-content-center my-5\">\n\t\t\t\t\t\tReserving your table, please wait\n\t\t\t\t\t\t<div className=\"ml-2\">\n\t\t\t\t\t\t\t<Spinner animation=\"border\" variant=\"success\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t<Form className=\"w-100 mb-5\" onSubmit={this.submitReservation}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col md={6}>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label htmlFor=\"name\">Name</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Your name\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.reservation.name}\n\t\t\t\t\t\t\t\t\tonChange={this.updateReservationField}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col md={6}>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label htmlFor=\"phone\">Phone</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tname=\"phone\"\n\t\t\t\t\t\t\t\t\tid=\"phone\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Your phone\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tvalue={this.state.reservation.phone}\n\t\t\t\t\t\t\t\t\tonChange={this.updateReservationField}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col md={5}>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label htmlFor=\"numberOfPersons\">\n\t\t\t\t\t\t\t\t\tHow many people?\n\t\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\tname=\"numberOfPersons\"\n\t\t\t\t\t\t\t\t\tid=\"numberOfPersons\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.reservation.numberOfPersons}\n\t\t\t\t\t\t\t\t\tonChange={this.updateReservationField}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option>1</option>\n\t\t\t\t\t\t\t\t\t<option>2</option>\n\t\t\t\t\t\t\t\t\t<option>3</option>\n\t\t\t\t\t\t\t\t\t<option>4</option>\n\t\t\t\t\t\t\t\t\t<option>5</option>\n\t\t\t\t\t\t\t\t\t<option>6</option>\n\t\t\t\t\t\t\t\t\t<option>7</option>\n\t\t\t\t\t\t\t\t\t<option>8</option>\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col md={2} className=\"flex flex-column align-self-end\">\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tid=\"smoking\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Smoking?\"\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.reservation.smoking}\n\t\t\t\t\t\t\t\t\t\tonChange={this.updateReservationField}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col md={5}>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label htmlFor=\"dateTime\">Date and Time</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\ttype=\"datetime-local\"\n\t\t\t\t\t\t\t\t\tname=\"dateTime\"\n\t\t\t\t\t\t\t\t\tid=\"dateTime\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Date and Time\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.reservation.dateTime}\n\t\t\t\t\t\t\t\t\tonChange={this.updateReservationField}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col md={12}>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label htmlFor=\"specialRequests\">\n\t\t\t\t\t\t\t\t\tSpecial requests\n\t\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"specialRequests\"\n\t\t\t\t\t\t\t\t\tid=\"specialRequests\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Your special requests\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.reservation.specialRequests}\n\t\t\t\t\t\t\t\t\tonChange={this.updateReservationField}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Button type=\"submit\">Submit</Button>\n\t\t\t\t</Form>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default ReservationForm\n"]},"metadata":{},"sourceType":"module"}